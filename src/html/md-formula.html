<style>
    p md-formula img{
        max-height: 14px;
        vertical-align: middle;        
    }
    li md-formula img{
        max-height: 14px;
        vertical-align: middle;    
    }
</style>
<template id="md-formula">
    <img class=md-formula-img/>
</template>

<script>
    // Refers to the "importer", which is index.html
    var thatDoc = document;
    // Refers to the "importee", which is src/hello-world.html
    var thisDoc =  (thatDoc._currentScript || thatDoc.currentScript).ownerDocument;
    // Gets content from <template>
    var mdformula = thisDoc.querySelector('#md-formula').content;

    class MdFormula extends HTMLElement {
        
       constructor() {
            super();
        }

        connectedCallback() {
            var clone = document.importNode(mdformula, true);
            clone.children[0].setAttribute("src",  "http://latex.codecogs.com/svg.latex?" + this.innerHTML);
            this.innerHTML = "";
            this.appendChild(clone);
        }

        

    }
    window.customElements.define('md-formula', MdFormula);
</script>