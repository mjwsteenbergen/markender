<template id="md-cover">
    <div>
        <md-cover-title></md-cover-title>
        <md-cover-author></md-cover-author>
        <md-cover-date></md-cover-date>
    </div>
</template>

<script src="http://momentjs.com/downloads/moment.js"></script>
<script>
    // Refers to the "importer", which is index.html
    var thatDoc = document;
    // Refers to the "importee", which is src/hello-world.html
    var thisDoc =  (thatDoc._currentScript || thatDoc.currentScript).ownerDocument;
    // Gets content from <template>
    var mdcovertemplate = thisDoc.querySelector('#md-cover').content;

    class CoverPage extends HTMLElement {
        
        constructor() {
            super();
        }

        connectedCallback() {

            var clone = document.importNode(mdcovertemplate, true);
            var title = this.getAttribute("title") || "";
            clone.querySelectorAll('md-cover-title')[0].innerHTML = title;        
            document.title = title;


            var author = this.getAttribute("author") || "";
            clone.querySelectorAll('md-cover-author')[0].innerHTML = author;
            
            clone.querySelectorAll('md-cover-date')[0].innerHTML = moment().format('MMMM Do, YYYY');
            
            this.appendChild(clone);
            
            
        }

    }
    window.customElements.define('md-cover', CoverPage);
</script>